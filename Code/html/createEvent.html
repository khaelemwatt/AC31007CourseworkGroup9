<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <main>
        <u><b>Please Input the name of the event</b></u>
        <br>
        <br>
        <form class="form-inline" method="POST" id="form">
            <input class="form-control mr-sm-2" type="search" name="eventName" placeholder="" aria-label="Search" id="name" required>
            <br>
            <br>
            <u><b>Please Input some information about the event</b></u>
            <br>
            <br>
            <input class="form-control mr-sm-2" type="search" name="eventInfo" placeholder="" aria-label="Search" id="info" required>
            <br>
            <br>
            <u><b>Please Input the date of the event </b></u>
            <br>
            <br>
            <input class="form-control mr-sm-2" type="date" name="eventDate" placeholder="" aria-label="Search" id="date" required>
            <br>
            <br>
            <u><b>Please Input the Location of the event</b></u>
            <br>
            <br>
            <input class="form-control mr-sm-2" type="search" name="eventLocation" placeholder="" aria-label="Search" id="location" required>
            <br>
            <br>
            <u><b>Please select which goal this event relates too</b></u>
            <br>
            <br>
            <select name="UNGoalID" id="goal" required>
                <option disabled selected value> -- select an option -- </option>
                <option value="" disabled>Please select...</option>
                <option value="1">No Poverty</option>
                <option value="2">Zero Hunger</option>
                <option value="3">Good Health and Wellbeing</option>
                <option value="4">Quality Education</option>
                <option value="5">Gender Equality</option>
                <option value="6">Clean Water and Sanitation</option>
                <option value="7">Affordable and Clean Energy</option>
                <option value="8">Decent Work and Economic Growth</option>
                <option value="9">Industry, Innovation and Infrastructure</option>
                <option value="10">Reduced Inequality</option>
                <option value="11">Sustainable Cities and Communities</option>
                <option value="12">Responsible Consumption and Production</option>
                <option value="13">Climate Action</option>
                <option value="14">Life Below Water</option>
                <option value="15">Life on Land</option>
                <option value="16">Peace and Justice, Strong Insitutions</option>
                <option value="17">Partnerships to Achieve Goal</option>
            </select>
            <button class="btn btn-secondary" type="submit" name="submit">Check</button>

        </form>

    </main>

 </body>

 <script>
    var form = document.getElementById("form");

    form.onsubmit = (e) => {
        e.preventDefault();

        var nameInput = document.getElementById("name");
        var infoInput = document.getElementById("info");
        var dateInput = document.getElementById("date");
        var locationInput = document.getElementById("location");
        var goalInput = document.getElementById("goal");

        var parameters = {"name": nameInput.value, "info": infoInput.value, "date": dateInput.value, "location": locationInput.value, "goal": goalInput.value};
        console.log(parameters);

        fetch('https://group9agilewebapp.azurewebsites.net/createEvent', {
            method: 'POST', // or 'PUT'
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(parameters),
            })
            .then(response => response.json())
            .then(data => {
            console.log('Success:', data);
            accept(data);
            })
            .catch((error) => {
            console.error('Error:', error);
            reject();
            });
    };
 </script>

  
</html>
